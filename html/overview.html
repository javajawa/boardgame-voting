<!--
SPDX-FileCopyrightText: 2021 Benedict Harcourt <ben.harcourt@harcourtprogramming.co.uk>

SPDX-License-Identifier: BSD-2-Clause
-->

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Board Game Voting</title>
        <link rel="stylesheet" href="/style.css" />
        <script type="module" src="/script.js" async></script>
        <script type="module" src="/overview.js" async></script>
    </head>
    <body>
        <nav>
            <a href="/{realm}/">Home</a> | <a href="/{realm}/vote">Vote</a> | <a href="/{realm}/results">Results</a> |
            <a href="/{realm}/boards">Boards</a> | Logged in as <span class="js-user"></span>
            <form id="logout-form" method="post" action="/{realm}/logout">
                <input type="submit" value="logout" />
            </form>
        </nav>
        <h1>Votes Overview</h1>
        <p>Please wait, results are loading.</p>
        <p>
            Automation: if you want tables to be created automagically, you will need to
            <a href="javascript:(() => {b = document.createElement('textarea');b.appendChild(document.createTextNode(JSON.stringify(Object.fromEntries(document.cookie.split('; ').map(c => c.split('=')).map(([k, ...v]) => [k, v.join('=')]).filter(([k, v]) => k.startsWith('Tournoi'))))));b.style.position = 'fixed';b.style.top = '0';b.style.left = '0';b.style.width = '600px';b.style.height = '400px';b.style.zIndex = 9999999;document.body.appendChild(b)})()">drag this link into bookmarks</a>
            then click on it on a BGA page. This will pop up a box of tokens to put in the box below.
        </p>
        <textarea name="tokens" id="tokens" style="display: block; width: 100%"></textarea>
    </body>
</html>
